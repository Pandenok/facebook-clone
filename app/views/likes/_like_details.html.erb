<% if post.likes.count == 1 %>
  <!-- create a method full_name in User.rb? -->
  <% firstname = post.likes.map { |like| User.find(like.user_id).firstname }.first %>
  <% lastname = post.likes.map { |like| User.find(like.user_id).lastname }.first %>
  <% full_name = firstname + ' ' + lastname %>
  <div class="">
    <svg class="inline object-cover w-5 h-5 mr-1 p-1 self-center bg-lblue rounded-full text-white fill-current" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
      <path d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z" />
    </svg>
    <span class="text-sm text-secondarygray"><%= full_name %></span>
  </div>
<% elsif post.likes.count > 1 %>
  <div class="dropdown inline-block relative">
    <svg class="inline object-cover w-5 h-5 mr-1 p-1 self-center bg-lblue rounded-full text-white fill-current" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
      <path d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z" />
    </svg>
    <span class="text-sm text-secondarygray">
      <%= post.likes.count %>
    </span>
    <ul class="dropdown-menu hidden absolute overflow-visible w-max py-2 bg-black opacity-70 rounded-lg border shadow-xl">
      <p class="text-base text-white font-semibold px-2 pb-2">Like</p>
      <% post.likes.each do |like| %>
        <% firstname = User.find(like.user_id).firstname %>
        <% lastname = User.find(like.user_id).lastname %>
        <% full_name = firstname + ' ' + lastname %>
        <li class="rounded-t text-sm text-white px-2 block whitespace-no-wrap">
          <%= full_name %>
        </li>
      <% end %>
    </ul>
  </div>
<% end %>