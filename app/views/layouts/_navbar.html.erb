<header class="bg-teal-400">
  <nav class="fixed flex z-20 justify-center w-full h-14 text-white bg-white shadow">
    
    <div class="flex w-1/6 mr-auto py-2 items-center">
      <%= link_to root_path do %>
        <img class="object-cover w-10 h-10 ml-4 mr-3 rounded-full" src="/img/fb_logo.webp" alt="Fakebook logo"/>
      <% end %>
      <div class="flex flex-1 h-full items-center rounded-3xl bg-gray-100">
        <span class="w-auto flex justify-end items-center p-2">
          <svg class="inline w-5 h-5 ml-2 text-secondarygray" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"/>
          </svg>
        </span>
        <input class="w-full h-full mr-4 text-sm text-black placeholder-gray-500 bg-gray-100" type="text" placeholder="Search Fakebook...">
      </div>
    </div>
    
    <div class="flex sm:w-1/3">
      <!-- Home button -->
      <%= link_to root_path, class: "flex-1 inline-flex items-center justify-center text-secondarygray border-b-4 border-white focus:border-lblue focus:text-lblue hover:bg-gray-100 hover:rounded-lg" do %>
        <svg class="w-7 h-7 stroke-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="none">
          <path stroke-width="1.5" d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
        </svg>
      <% end %>
      <!-- Friends button -->
      <%= link_to users_path, class: "flex-1 inline-flex items-center justify-center text-secondarygray border-white focus:text-lblue border-b-4 focus:border-lblue hover:bg-gray-100 hover:rounded-lg" do %>
        <span class="relative inline-block">
          <svg class="w-7 h-7 stroke-current" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
          </svg>
          <% if current_user.notifications.incoming_friend_request.unseen.any? %>
            <span class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full">
              <%= current_user.notifications.incoming_friend_request.unseen.count %>
            </span>
          <% end %>
        </span>
      <% end %>
      <!-- Watch button -->
      <button class="flex-1 text-secondarygray border-white focus:text-lblue border-b-4 focus:border-lblue hover:bg-gray-100 hover:rounded-lg cursor-not-allowed" disabled>
        <svg class="inline w-6 h-6 fill-current" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">
          <g><path d="M990,66.5c0-22.9-18.6-41.5-41.5-41.5H51.4C28.5,25,10,43.6,10,66.5l0,697.6c0,22.9,30.1,52.8,53,52.8H937c22.9,0,53-29.8,53-52.8L990,66.5z M910.5,737.7H89.5V104.2h821.1L910.5,737.7L910.5,737.7z M274.8,975h503v-79.1h-503V975z M354.4,262.6v343.1l344.2-171.5L354.4,262.6z"/></g>
        </svg>
      </button>
      <!-- Marketplace button -->
      <button class="flex-1 text-secondarygray border-white focus:text-lblue border-b-4 focus:border-lblue hover:bg-gray-100 hover:rounded-lg cursor-not-allowed" disabled>
        <svg class="inline w-7 h-7 fill-current" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">
          <g><path d="M971.6,353l-91.9-122.4c-3.6-4.8-7.8-9-12.2-13V71.2c0-33.8-27.4-61.2-61.3-61.2H193.8c-33.8,0-61.3,27.4-61.3,61.2v146.4c-4.4,4-8.7,8.1-12.2,12.9L28.4,353C16.5,368.8,10,388.3,10,408.1v30.6c0,50.7,41.2,91.9,91.9,91.9l0,0v398.1c0,33.8,27.4,61.2,61.2,61.2h673.7c33.8,0,61.3-27.4,61.3-61.2V530.6l0,0c50.7,0,91.9-41.2,91.9-91.9v-30.6C990,388.3,983.5,368.8,971.6,353L971.6,353z M806.3,71.2v122.5H193.8l0,0V71.2H806.3L806.3,71.2z M322.2,469.4H193.9L316.4,255h67L322.2,469.4L322.2,469.4z M415.3,255h69.4v214.4H354L415.3,255L415.3,255z M515.3,255h69.4L646,469.4H515.3V255L515.3,255z M616.5,255h67l122.5,214.4H677.8L616.5,255L616.5,255z M71.2,438.7v-30.6c0-6.6,2.1-13.1,6.1-18.4l91.9-122.5c5.8-7.7,14.9-12.2,24.5-12.2h87.3L158.6,469.4h-56.7C85,469.4,71.2,455.7,71.2,438.7L71.2,438.7z M622.5,928.8H392.8V622.5h229.7V928.8L622.5,928.8z M836.9,928.8H653.1V622.5c0-16.9-13.8-30.6-30.6-30.6H392.8c-16.9,0-30.6,13.7-30.6,30.6v306.3H163.1V530.6h673.7V928.8L836.9,928.8z M928.8,438.7c0,16.9-13.7,30.6-30.6,30.6h-56.8L718.8,255h87.4l0,0c9.6,0,18.7,4.5,24.5,12.2l91.9,122.5c4,5.3,6.2,11.7,6.2,18.4V438.7L928.8,438.7z"/></g>
        </svg>
      </button>
      <!-- Groups button -->
      <button class="flex-1 text-secondarygray border-white focus:text-lblue border-b-4 focus:border-lblue hover:bg-gray-100 hover:rounded-lg cursor-not-allowed" disabled>
        <svg class="inline w-7 h-7 stroke-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="none">
          <path stroke-width="1.5" d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />
        </svg>
      </button>
    </div>

    <div class="flex w-1/6 ml-auto justify-end items-center">
      <!-- User avatar and name -->
      <%= link_to user_path(current_user), class: "mr-2 pl-0.5 pr-2 py-0.5 rounded-full text-black font-semibold focus:text-lblue focus:bg-blue-100 focus:text-lblue hover:bg-lgray" do %>
        <%= image_tag avatar_for(current_user, 32), class: "inline object-cover w-8 h-8 mr-1.5 border rounded-full" %>
        <%# <img class="inline object-cover w-8 h-8 mr-1.5 border rounded-full" src="https://scontent-fco1-1.xx.fbcdn.net/v/t1.30497-1/cp0/c12.0.40.40a/p40x40/84241059_189132118950875_4138507100605120512_n.jpg?_nc_cat=1&ccb=2&_nc_sid=7206a8&_nc_ohc=02k-Raa85_sAX88_QOT&_nc_ht=scontent-fco1-1.xx&tp=27&oh=6ab026268e92ba2c2231e4af6fb4ebd4&oe=5FEEEF9E" alt="Profile image"/> %>
        <span class="">
          <%= current_user.firstname %>
        </span>
      <% end %>
      <!-- Plus button -->
      <div class="dropdown inline-block relative">
        <button class="py-2 px-2 mr-2 rounded-full text-black bg-gray-200 hover:bg-gray-300 hover:text-lblue">
          <svg class="inline self-center w-6 h-6 fill-current" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
          </svg>
        </button>
        <div class="dropdown-menu hidden fixed right-0 w-1/5 py-2 bg-white rounded-lg border shadow-xl">
          <p class="mx-2 px-2 text-2xl text-black font-bold">Create</p>
          <%= link_to new_post_path, class: "flex block mx-2 px-2 py-2 rounded-md hover:bg-gray-100" do %>
            <div class="flex">
              <span class="inline flex w-10 h-10 justify-center content-center bg-gray-200 rounded-full">
                <svg class="w-7 h-7 m-auto text-black" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                </svg>
              </span>
            </div>
            <div class="flex flex-1 flex-col ml-4">
              <div class="text-base text-black font-medium">
                Post
              </div>
              <div class="text-sm font-normal text-secondarygray">
                Share a post on News Feed
              </div>
            </div>
          <% end %>
        </div>
      </div>
      <!-- Notifications -->
      <div class="dropdown inline-block relative">
        <button class="inline flex w-10 h-10 mr-2 justify-center content-center text-black bg-gray-200 hover:bg-gray-300 hover:text-lblue rounded-full">
          <span class="flex relative inline-block">
            <svg class="mt-2 w-5 h-5 fill-current" viewBox="0 0 28 28" height="20" width="20">
              <path d="M7.847 23.488C9.207 23.488 11.443 23.363 14.467 22.806 13.944 24.228 12.581 25.247 10.98 25.247 9.649 25.247 8.483 24.542 7.825 23.488L7.847 23.488ZM24.923 15.73C25.17 17.002 24.278 18.127 22.27 19.076 21.17 19.595 18.724 20.583 14.684 21.369 11.568 21.974 9.285 22.113 7.848 22.113 7.421 22.113 7.068 22.101 6.79 22.085 4.574 21.958 3.324 21.248 3.077 19.976 2.702 18.049 3.295 17.305 4.278 16.073L4.537 15.748C5.2 14.907 5.459 14.081 5.035 11.902 4.086 7.022 6.284 3.687 11.064 2.753 15.846 1.83 19.134 4.096 20.083 8.977 20.506 11.156 21.056 11.824 21.986 12.355L21.986 12.356 22.348 12.561C23.72 13.335 24.548 13.802 24.923 15.73Z"></path>
            </svg>
            <% if current_user.notifications.unseen.any? %>
              <span class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full">
                <%= current_user.notifications.unseen.count %>
              </span>
            <% end %>
          </span>
        </button>
        <div class="dropdown-menu hidden fixed right-0 w-1/5 py-2 bg-white rounded-lg border shadow-xl">
          <%= render partial: "notifications/list"%>
        </div>
      </div>
      <!-- Account button -->
      <div class="dropdown inline-block relative">
        <button class="inline flex w-10 h-10 mr-2 justify-center bg-gray-200 rounded-full text-black hover:bg-gray-300 hover:text-lblue">
          <svg class="self-center w-3 h-3 fill-current" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" xml:space="preserve">
            <g><path d="M978.4,274L978.4,274c7.2-8.8,11.6-20.1,11.6-32.4c0-28.3-22.9-51.2-51.2-51.2l-0.1-0.2H61.1l-0.1,0.2c-28.2,0.1-51,23-51,51.2c0,13.4,5.2,25.6,13.6,34.8l436.7,513.3h0c9.4,12.3,24.1,20.2,40.7,20.2c16.1,0,30.5-7.5,39.9-19.1h0l437.1-516.3C978.2,274.3,978.3,274.2,978.4,274L978.4,274z"/></g>
          </svg>
        </button>
        <!-- Avatar -->
        <div class="dropdown-menu hidden fixed right-0 w-1/5 py-2 bg-white rounded-lg border shadow-xl">
          <%= link_to user_path(current_user), class: "flex block mx-2 px-2 py-2 rounded-md hover:bg-gray-100" do %>
            <div class="flex">
              <%= image_tag avatar_for(current_user, 64), class: "inline object-cover w-16 h-16 mr-2.5 border rounded-full" %>
              <%# <img class="object-cover w-16 h-16 mr-2.5 rounded-full border" src="https://scontent-fco1-1.xx.fbcdn.net/v/t1.30497-1/cp0/c12.0.40.40a/p40x40/84241059_189132118950875_4138507100605120512_n.jpg?_nc_cat=1&ccb=2&_nc_sid=7206a8&_nc_ohc=02k-Raa85_sAX88_QOT&_nc_ht=scontent-fco1-1.xx&tp=27&oh=6ab026268e92ba2c2231e4af6fb4ebd4&oe=5FEEEF9E" alt="Profile image"/> %>
            </div>
            <div class="flex flex-1 flex-col justify-center">
              <div class="text-base text-black font-semibold">
                <%= current_user.fullname %>
              </div>
              <div class="text-sm font-normal text-secondarygray">
                See your profile
              </div>
            </div>
          <% end %>
          <hr class="mx-4 my-2 text-secondarygray">
          <!-- Logout -->
          <%= link_to destroy_user_session_path, method: :delete, class: "flex block mx-2 px-2 rounded-md hover:bg-gray-100" do %>
            <div class="flex">
              <span class="inline flex w-9 h-9 mr-3 my-2 pl-1 justify-center content-center bg-gray-200 rounded-full">
                <svg class="w-5 h-5 m-auto text-black" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">
                  <g><path d="M696.5,234.1V68.9c0-26.4-21.6-47.9-47.9-47.9H57.9C31.6,21,10,42.5,10,68.9v676.8c0,17.5,10.4,34.3,25.5,42.3l364,188.4c16,7.9,35.1-3.2,35.1-21.6V771.3h213.9c26.4,0,47.9-21.6,47.9-47.9V461.6h-95.8v190c0,13.6-10.3,24-23.9,24H435.5V269.2c0-17.5-10.4-34.3-25.6-42.3L195.2,116.7h381.6c13.6,0,23.9,10.4,23.9,24v94.2h95.8L696.5,234.1L696.5,234.1z"/><path d="M819.4,155.8l155.7,155.7c19.9,20,19.9,49.5,0,69.4L819.4,536.6c-20,19.9-50.3,20.7-70.3,0.8c-19.1-19.2-16.8-51.1,1.6-70.3l70.2-69.4H548.8c-13.6,0-27.2-5.6-35.9-16c-22.4-23.9-16.8-66.3,12-82.2c7.2-4,16-6.4,24-6.4H821c0,0-69.4-69.5-70.2-69.5c-18.4-18.3-20.7-51.1-1.6-69.4C768.3,135.1,799.4,135.9,819.4,155.8"/></g>
                </svg>
              </span>
            </div>
            <span class="inline-block self-center text-base text-black font-medium">
              Log Out
            </span>
          <% end %>
        </div>
      </div>
    </div>
  </nav>
</header>